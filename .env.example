# FastAPI
API_BASE_URL=http://localhost:8080

# MinIO Configuration
MINIO_ENDPOINT=localhost:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_SECURE=false
# Note: Legacy bucket configs (MINIO_BUCKET_DOCS, MINIO_BUCKET_CHUNKS) are deprecated
# System now uses multi-tenant org-based buckets: org-{organization_id}
# Buckets are auto-created per organization with folder-based isolation

# Milvus Configuration.
MILVUS_HOST=localhost
MILVUS_PORT=19530
# Note: MILVUS_COLLECTION is deprecated - Legacy setting for backward compatibility
# System now uses multi-tenant scope-based collections:
# - Private: user_{user_id}_chunks_1536
# - Shared: org_{org_id}_shared_chunks_1536
# Collections are auto-created per user/organization

# Embedding Configuration
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSION=1536
EMBEDDING_BATCH_SIZE=32
RERANKER_MODEL=BAAI/bge-reranker-v2-m3

# LLM Configuration
LLM_PROVIDER=openai
# For OpenAI
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
# For Ollama (if using local models)
OLLAMA_MODEL=qwen2.5:7b-instruct

# API Configuration
API_HOST=0.0.0.0
API_PORT=8080

# Chunking Configuration
CHUNKING_MODEL=BAAI/bge-m3
DEFAULT_CHUNK_SIZE=512
DEFAULT_CHUNK_OVERLAP=50
DEFAULT_CHUNKING_METHOD=token
MAX_CHUNK_SIZE=1000
MIN_CHUNK_SIZE=100
SEMANTIC_SIMILARITY_THRESHOLD=0.7

# Logging
LOG_LEVEL=INFO

# JWT Authentication
JWT_SECRET_KEY=dev-secret-key-min-32-characters-long-12345
JWT_ALGORITHM=HS256
REQUIRE_AUTH=true

# Auth Service Configuration
AUTH_SERVICE_URL=http://onedocs-auth:8001
AUTH_SERVICE_TIMEOUT=5

# PostgreSQL Configuration (for chat history)
POSTGRES_HOST=localhost
POSTGRES_PORT=5431
POSTGRES_DB=rag_database
POSTGRES_USER=raguser
POSTGRES_PASSWORD=your_postgres_password_here

# Query Source Filtering Configuration
# Minimum cosine similarity score (0-1) for sources to be included in results
# Higher values = more strict filtering, only highly relevant sources
# Recommended values: 0.7-0.8 for high quality, 0.6-0.7 for balanced, 0.5-0.6 for permissive
DEFAULT_MIN_RELEVANCE_SCORE=0.7
ENABLE_SOURCE_FILTERING=true
DEFAULT_MAX_SOURCES_IN_CONTEXT=5